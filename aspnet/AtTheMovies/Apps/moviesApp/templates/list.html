<div ng-controller="movieListController as list">

    <label>Search:</label> <input type="search" ng-model="list.searchTerm"/>
    <select ng-model="list.orderTerm">
        <option value="+title">Title</option>
        <option value="+rating">Worst rating</option>
        <option value="-rating">Best rating</option>
    </select>

    <table class="table">
        <tr>
            <th>Title</th>  
            <th>Release Year</th>
            <th>Rating</th>
            <th></th>
        </tr>
        <tr ng-repeat="movie in list.movies | filter:{title: list.searchTerm} | orderBy:list.orderTerm"
            ng-class="list.grade(movie)">
            <td><a ng-href="#/details/{{movie.id}}">{{movie.title}}</a>
            </td>
            <td>{{movie.year}}</td>
            
            <td> {{ movie.rating }}
                <div rating value="movie.rating"
                     increase="list.increaseRating(movie)">
                </div>
                {{ list.isGood(movie) | checkmark }}
            </td>
            <td>
                <button ng-click="list.increaseRating(movie)"
                        class="btn btn-default">
                    Better
                </button>
                <button ng-click="list.decreaseRating(movie)"
                        class="btn btn-default">
                    Worse
                </button>
            </td>
        </tr>
    </table>
    
    <div>
        <a class="btn btn-default" href="#/add">Add Movie</a>

    </div>
    
</div>