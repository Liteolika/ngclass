<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="../../../../Scripts/jasmine/jasmine.css" rel="stylesheet" />
    <script src="../../../../Scripts/jasmine/jasmine.js"></script>
    <script src="../../../../Scripts/jasmine/jasmine-html.js"></script>
    <script src="../../../../Scripts/jasmine/boot.js"></script>
</head>
<body>
    
    <script>

        describe("Jasmine", function() {

            it("should have asserts that work", function() {

                expect(true).toBe(true);
                expect("1" == 1).toBe(true);
                expect("2" === 2).toBe(false);

            });

        });


        describe("variable scope", function() {

            it("does not have block scope", function() {

                var doOtherWork = function() {
                    // "use strict";
                    y = 10;
                };
         
                var doWork = function() {
                    {
                        var x = 3;
                    }
                    return x;
                };

                var result = doWork();
                expect(result).toBe(3);
                doOtherWork();
                expect(y).toBe(10);

            });

        });

        describe("a closure", function() {
            it("lexically binds to variables and keeps them alive", function() {

                var makeMessage = function(name) {
                    return function() {
                        return "Hello, " + name;
                    };
                };


                var f1 = makeMessage("Scott");
                var f2 = makeMessage("Jakob");

                expect(f1()).toBe("Hello, Scott");
                expect(f2()).toBe("Hello, Jakob");

            });
        });


        describe("module pattern", function() {
            it("another way to create objects", function() {

                var employee = function(firstName, lastName) {

                    var work = function() {
                
                        return firstName + " is working";
                    };

                    return {
                        firstName: firstName,
                        lastName: lastName,
                        doWork: work
                    };
                };

                var e1 = employee("Scott", "Allen");
                expect(e1.doWork()).toBe("Scott is working");

            });
        });


        describe("create objects with constructor", function() {
            it("it should have methods and properties", function() {

                var Employee = function(fn, ln) {

                    this.firstName = fn;
                    this.lastName = ln;
                    this.doWork = function() {
                        return this.firstName + " is working";
                    };

                };

                var employee = new Employee("Scott", "Allen");
                expect(employee.firstName).toBe("Scott");
                expect(employee.doWork()).toBe("Scott is working");

                //setTimeout(employee.doWork, 500);


            });
        });

    </script>

</body>
</html>
