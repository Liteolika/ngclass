<html ng-app="moviesApp">

<head>
    <title>At The Movies!</title>
    <link rel="stylesheet" href="/Content/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="/Content/styles.css">
</head>

<body class="ng-cloak">

   

    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">At The Movies!</a>
            </div>
        </div>
    </nav>

    <div class="container" ng-controller="MoviesListController as list">
        <div class="alert alert-danger" ng-show="list.error">
            {{ list.error }}
        </div>
        
        <table class="table">
            <tr ng-repeat="movie in list.movies">
                <td>{{$index + 1}} of {{list.movies.length}}</td>
                <td>
                    <span ng-show="!movie.editing">{{movie.title}}</span>
                    <span ng-show="movie.editing"><input type="text" ng-model="movie.title"/></span>
                </td>
                <td>{{movie.year}}</td>
                <td>{{movie.rating}}</td>
                <td>
                    <button ng-click="list.increaseRating(movie)">+</button>
                    <button ng-click="list.decreaseRating(movie)">-</button>
                    <button ng-show="!movie.editing" ng-click="list.editMovie(movie)">Edit</button>
                    <button ng-show="movie.editing" ng-click="list.saveEdit(movie)">Save</button>
                </td>
            </tr>    
        </table>
        

    </div>
    
    <script src="Scripts/angular.js"></script>
    <script src="apps/moviesApp/module.js"></script>
    <script src="apps/moviesApp/controllers/movieListController.js"></script>
    <script src="apps/moviesApp/services/movieDataService.js"></script>
   
</body>
</html>
