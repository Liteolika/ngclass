<div class="container" ng-controller="MoviesListController as list">
    
    <h1>Counter value: {{list.count }}</h1>
    
    <div class="alert alert-danger" ng-show="list.error">
        {{ list.error }}
    </div>
    
    <div>
        Search: <input type="search" ng-model="list.searchTerm" />
        <select ng-model="list.orderTerm">
            <option value="+title">Title</option>
            <option value="-rating">Rating</option>
            <option value="+year">Year (asc)</option>
            <option value="-year">Year (desc)</option>
        </select>
    </div>

    <table class="table">
       
        <tr ng-repeat="movie in list.movies | filter:list.searchTerm | orderBy:list.orderTerm">
     
            <td>{{$index + 1}} of {{list.movies.length}}</td>
            <td>
                <span ng-show="!movie.editing">
                    <a ng-href="#/details/{{movie.id}}">
                        {{movie.title}}    
                    </a>
                </span>
                <span ng-show="movie.editing"><input type="text" ng-model="movie.title" /></span>
            </td>
            <td>{{movie.year}}</td>
            <td ng-class="{badRating: movie.bad, goodRating: movie.good}">
                {{movie.rating}}
            </td>
            <td>
                <button ng-click="list.increaseRating(movie)">+</button>
                <button ng-click="list.decreaseRating(movie)">-</button>
                <button ng-show="!movie.editing" ng-click="list.editMovie(movie)">Edit</button>
                <button ng-show="movie.editing" ng-click="list.saveEdit(movie)">Save</button>
            </td>
        </tr>
    </table>
    
    <a href="#/add">Add A Movie</a>

</div>